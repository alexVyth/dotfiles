#! /bin/zsh


bspc rule -r "*"
bspc rule -a Chromium desktop=Browser focus=off follow=off border=off
bspc rule -a Signal desktop=Messaging focus=off follow=off state=tiled
bspc rule -a ViberPC desktop=Messaging focus=off follow=off
bspc rule -a Lutris desktop=Gaming follow=on
bspc rule -a Thunar desktop=Others follow=on
bspc rule -a qBittorrent desktop=Others follow=on
bspc rule -a libreoffice-startcenter desktop=Others follow=on
bspc rule -a Zathura state=tiled

mainmonitor="$(bspc query --monitors --names | grep -v LVDS | head -n 1)"

if ! echo "$mainmonitor" | grep LVDS >/dev/null 2>&1; then
	xrandr --output "$mainmonitor" --auto --output LVDS1 --off
fi

$HOME/.config/polybar/launch.sh &
feh --bg-scale $HOME/.wp.jpg &
killall picom
picom &
if ! pgrep -u $UID -x dunst >/dev/null; then
	sxhkd &
	setxkbmap us,gr -option 'grp:caps_toggle' &
	$HOME/.toggle_touchpad.sh &
	chromium &
	alacritty &
	alacritty &
	signal-desktop &
	i3-battery-popup -n &
	xsetroot -cursor_name left_ptr &
fi
dunst &

bspc monitor $mainmonitor -d Terminals Browser Messaging Others Gaming

bspc config border_width         4
bspc config window_gap          15

bspc config split_ratio          0.5
bspc config borderless_monocle   true
bspc config gapless_monocle      true

bspc config normal_border_color   \#002b36
bspc config focused_border_color  \#d81b60
bspc config presel_feedback_color \#002b36
